var express = require("express");var router = express.Router();var video = require("../../database/model/video")router.post("/add", (req, res) => {    let {title, img, free, price, author, key, type,sort} = req.body;    sort = parseInt(sort)    video.create({title, img, free, price, author, key, type,sort}).then(data => {        res.json({            data: 'success',            code: 200,            msg: 'success'        })    }).catch(err => {        res.json({            data: err,            msg: '内部错误',            code: 500        })    })})router.get("/get", (req, res) => {    let {page = 1, id} = req.query;    if (!id) {        video.find().sort({_id: -1}).then(data => {            res.json({                data: data,                msg: 'success',                code: 200            })        }).catch(err => {            res.json({                data: err,                msg: '内部错误,请稍后重试',                code: 500            })        })    }    else {        video.findOne({_id: id}).then(data => {            res.json({                data: data,                msg: 'success',                code: 200            })        }).catch(err => {            res.json({                data: err,                msg: '内部错误,请稍后重试',                code: 500            })        })    }})router.post("/del", (req, res) => {    let {id} = req.body;    video.remove({_id: id}).then(data => {        res.json({            data: "success",            msg: "success",            code: 200        })    }).catch(err => {        res.json({            data: err,            msg: '内部错误，请稍后重试',            code: 500        })    })})module.exports = router;