const {Router} = require("express");const video = require("../../database/model/video");const category = require("../../database/model/videosCategory");const slider = require("../../database/model/slider");const router = Router();router.get("/getVideos", (req, res) => {    video.aggregate([{        $group: {            _id: "$type",            item: {                $push: {                    videoId: "$_id",                    key: "$key",                    title: "$title",                    img: "$img",                    author: "$author",                    sort: "$sort"                }            }        }    }]).then(data => {        category.find().then( categories => {            data.forEach(item => {                categories.forEach(val => {                    if(val._id == item._id){                        item.name = val.title;                        item.sort = val.sort;                    }                })            })            data = data.sort((pre,nex) => {                return pre.sort - nex.sort;            })            res.json({                data,                msg: 'success',                code: 200            })        })    })})router.get("/getSlider",(req, res) => {    slider.find().sort({sort: 1,_id: -1}).then(data => {        res.json({            data,            msg: 'success',            code: 200        })    })})module.exports = router;